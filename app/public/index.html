<!DOCTYPE html>
<html>
  <head>
    <title>touhouchat / v1</title>
    <link href="/css/main.css" rel="stylesheet">
    <script src="/js/lib/prefixfree.js"></script>
    <script src="/js/lib/modernizr.js"></script>
  </head>
  <body>
    <ul id="ctrls">
      <li class="ctrl hdr">touhouchat / v1</li>
      <li class="ctrl rooms" data-bind="foreach: predefinedRooms" >
        <span class="btn" data-bind="
          text: $data,
          click: function(data, event) {
            if( $root.room !== $data ) $root.changePage('/' + data)
          },
          css: { active: $root.room() == $data }
        "></span>
      <li>
      <li class="ctrl">
        <ul id="write-ctrl">
          <li><textarea id="input-msg" data-bind="value: msgText, valueUpdate: 'afterkeydown', event: { keypress: msgTextKeyPressed }"></textarea></li>
          <li class="btns">
            <button class="btn" data-bind="click: writeMsg">написать</button>
          </li>
        </ul>
      </li>
    </ul>

    <div id="cl-count" data-bind="text: clientsCount"></div>

    <ul id="msgs" data-bind="foreach: msgs">
      <li class="msg">
        <div class="hdr" data-bind="text: dt"></div>
        <div class="txt" data-bind="text: text"></div>
      </li>
    </ul>

    <script src="/js/lib/jquery.js"></script>
    <script src="/js/lib/jquery-throttle-debounce.js"></script>
    <script src="/js/lib/jquery-title-alert.js"></script>
    <script src="/js/lib/soundmanager.js"></script>
    <script src="/js/lib/sammy.js"></script>
  	<script src="/js/lib/knockout.js"></script>
    <script src="/socket.io/socket.io.js"></script>
  	<script src="/js/app.js"></script>
  </body>
</html>
